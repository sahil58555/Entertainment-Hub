{"version":3,"sources":["components/Movie.js","App.js","index.js"],"names":["Movie","movie","selectMovie","onClick","className","poster_path","src","alt","title","vote_average","App","MOVIE_API","API_KEY","useState","playing","setPlaying","trailer","setTrailer","movies","setMovies","searchKey","setSearchKey","setMovie","useEffect","fetchMovies","event","a","preventDefault","axios","get","params","api_key","query","data","console","log","results","length","fetchMovie","id","append_to_response","videos","find","vid","name","window","scrollTo","onSubmit","type","placeholder","onInput","target","value","style","backgroundImage","backdrop_path","videoId","key","containerClassName","opts","width","height","playerVars","autoplay","controls","cc_load_policy","fs","iv_load_policy","modestbranding","rel","showinfo","overview","map","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.594327a6.chunk.js","sourcesContent":["import React from 'react';\n\nconst Movie = ({movie, selectMovie}) => {\n    const IMAGE_PATH = \"https://image.tmdb.org/t/p/w342\"\n\n    return (\n        <div onClick={() => selectMovie(movie)} className={\"movie\"}>\n            <div className=\"movie-title\">\n                {movie.poster_path &&\n                <img src={IMAGE_PATH + movie.poster_path} alt={movie.title}/>\n                }\n                <div className={\"flex between movie-infos\"}>\n                    <h5 className={\"movie-title\"}>{movie.title}</h5>\n                    {movie.vote_average ? <span className={\"movie-voting\"}>{movie.vote_average}</span> : null}\n                </div>\n            </div>\n        </div>\n    );\n};\n\n\nexport default Movie;","import {useEffect, useState} from \"react\"\nimport './App.css'\nimport axios from 'axios'\nimport Movie from \"./components/Movie\"\nimport Youtube from 'react-youtube'\n\nfunction App() {\n    const MOVIE_API = \"https://api.themoviedb.org/3/\"\n    const SEARCH_API = MOVIE_API + \"search/movie\"\n    const DISCOVER_API = MOVIE_API + \"discover/movie\"\n    const API_KEY = \"7753f1656c2d393b8eed29830cd43953\"\n    const BACKDROP_PATH = \"https://image.tmdb.org/t/p/w1280\"\n\n    const [playing, setPlaying] = useState(false)\n    const [trailer, setTrailer] = useState(null)\n    const [movies, setMovies] = useState([])\n    const [searchKey, setSearchKey] = useState(\"\")\n    const [movie, setMovie] = useState({title: \"Loading Movies\"})\n\n    useEffect(() => {\n        fetchMovies()\n    }, [])\n\n    const fetchMovies = async (event) => {\n        if (event) {\n            event.preventDefault()\n        }\n\n        const {data} = await axios.get(`${searchKey ? SEARCH_API : DISCOVER_API}`, {\n            params: {\n                api_key: API_KEY,\n                query: searchKey\n            }\n        })\n\n        console.log(data.results[0])\n        setMovies(data.results)\n        setMovie(data.results[0])\n\n        if (data.results.length) {\n            await fetchMovie(data.results[0].id)\n        }\n    }\n\n    const fetchMovie = async (id) => {\n        const {data} = await axios.get(`${MOVIE_API}movie/${id}`, {\n            params: {\n                api_key: API_KEY,\n                append_to_response: \"videos\"\n            }\n        })\n\n        if (data.videos && data.videos.results) {\n            const trailer = data.videos.results.find(vid => vid.name === \"Official Trailer\")\n            setTrailer(trailer ? trailer : data.videos.results[0])\n        }\n\n        setMovie(data)\n    }\n\n\n    const selectMovie = (movie) => {\n        fetchMovie(movie.id)\n        setPlaying(false)\n        setMovie(movie)\n        window.scrollTo(0, 0)\n    }\n\n    const renderMovies = () => (\n        movies.map(movie => (\n            <Movie\n                selectMovie={selectMovie}\n                key={movie.id}\n                movie={movie}\n            />\n        ))\n    )\n\n    return (\n        <div className=\"App\">\n            <header className=\"center-max-size header\">\n                <span className={\"brand\"}>ðŸŽ¬ Entertainment Hub ðŸŽ¥</span>\n                <form className=\"form\" onSubmit={fetchMovies}>\n                    <input className=\"search\" type=\"text\" id=\"search\" placeholder=\"Search for Movies...\"\n                           onInput={(event) => setSearchKey(event.target.value)}/>\n                    <button className=\"submit-search\" type=\"submit\"><i className=\"search-icon fa fa-search\"></i></button>\n                </form>\n            </header>\n            {movies.length ?\n                <main>\n                    {movie ?\n                        <div className=\"poster\"\n                             style={{backgroundImage: `linear-gradient(to bottom, rgba(0, 0, 0, 0), rgba(0, 0, 0, 1)), url(${BACKDROP_PATH}${movie.backdrop_path})`}}>\n                            {playing ?\n                                <>\n                                    <Youtube\n                                        videoId={trailer.key}\n                                        className={\"youtube amru\"}\n                                        containerClassName={\"youtube-container amru\"}\n                                        opts={\n                                            {\n                                                width: '100%',\n                                                height: '100%',\n                                                playerVars: {\n                                                    autoplay: 1,\n                                                    controls: 0,\n                                                    cc_load_policy: 0,\n                                                    fs: 0,\n                                                    iv_load_policy: 0,\n                                                    modestbranding: 0,\n                                                    rel: 0,\n                                                    showinfo: 0,\n                                                },\n                                            }\n                                        }\n                                    />\n                                    <button onClick={() => setPlaying(false)} className={\"button close-video\"}>Close\n                                    </button>\n                                </> :\n                                <div className=\"center-max-size\">\n                                    <div className=\"poster-content\">\n                                        {trailer ?\n                                            <button className={\"button play-video\"} onClick={() => setPlaying(true)}\n                                                    type=\"button\">Play\n                                                Trailer</button>\n                                            : 'Sorry, no trailer available'}\n                                        <h1>{movie.title}</h1>\n                                        <p>{movie.overview}</p>\n                                    </div>\n                                </div>\n                            }\n                        </div>\n                        : null}\n\n                    <div className={\"center-max-size container\"}>\n                        {renderMovies()}\n                    </div>\n                </main>\n                : 'Sorry, no movies found'}\n        </div>\n    );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}